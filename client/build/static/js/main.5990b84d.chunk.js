(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,a){e.exports=a(154)},119:function(e,t,a){},154:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),c=a(55),i=(a(118),a(119),a(12)),s=a(13),u=a(15),d=a(14),m=a(16),p=a(46),f=a(28),h=a(194),y=a(198),g=a(52),E=a(199);var v=Object(f.f)((function(e){return r.a.createElement(h.a,{style:{position:"sticky",top:0},fixed:!0,position:"static"},r.a.createElement(y.a,{className:"header",style:{display:"flex",marginRight:20,flex:1,justifyContent:"space-between"}},r.a.createElement(g.a,{className:"head1",variant:"h5"},"U Coin"),r.a.createElement(g.a,{className:"head2",variant:"h8"},r.a.createElement(E.a,{onClick:function(){return fetch("/auth/logout").then((function(t){return e.history.replace("/login")}))},variant:"contained"},"Logout"))))})),b=a(6),w=a.n(b),x=a(90),S=a.n(x),C=a(205),k=a(206),j=a(208),O=a(207),T=a(218),R=a(204),P=a(58),D=a(221),B=a(203),L=a(201),A=a(202),N=a(200);function q(e){var t=r.a.useState(e.open),a=Object(P.a)(t,2),l=a[0],o=a[1],c=r.a.useState(!1),i=Object(P.a)(c,2),s=i[0],u=i[1];Object(n.useEffect)((function(){o(e.open)}));var d=function(){e.handleClose&&e.handleClose(),o(!1),e.history.replace("/login")},m=function(){var t;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(s){a.next=7;break}return u(!0),a.next=4,w.a.awrap(e.resendEmail());case 4:t=a.sent,console.log(t),"sent"==t?(u(!1),o(!1),alert("Email Resent!"),e.handleClose()):(o(!1),e.handleClose(),u(!1),alert(t));case 7:case"end":return a.stop()}}))};return r.a.createElement("div",null,r.a.createElement(D.a,{open:l,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(N.a,{id:"alert-dialog-title"},e.title),r.a.createElement(L.a,null,r.a.createElement(A.a,{id:"alert-dialog-description"},e.discription)),r.a.createElement(B.a,null,e.resend?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{onClick:d,color:"primary"},"Login"),r.a.createElement(E.a,{onClick:m,color:"primary"},"Resend Link?")):r.a.createElement(E.a,{onClick:d,color:"primary"},"Login"),function(){if(s)return r.a.createElement("div",null,"Resending...")}())))}var K=new p.a,I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={username:null,password:null,clicked:!1,error:null,resendPassword:null},a.renderButton=function(){return a.state.clicked?r.a.createElement("center",null,r.a.createElement(R.a,null)):r.a.createElement(E.a,{type:"sumbit",onSubmit:a.handleLogin,size:"small",color:"primary"},"Login")},a.handleLogin=function(e){var t,n,r,l;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e.preventDefault(),a.setState({clicked:!0}),"/auth/login",t=a.state,n=t.email,r=t.password,o.prev=4,o.next=7,w.a.awrap(fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})}));case 7:return l=o.sent,o.next=10,w.a.awrap(l.json());case 10:l=o.sent,K.set("publicKey",l.publicKey),"success"==l.login?S.a.toDataURL(l.publicKey,(function(e,t){localStorage.setItem("qrcode",String(t)),localStorage.setItem("publicKey",l.publicKey),a.props.history.replace("/",{state:{publicKey:l.publicKey}})})):l.verified?a.setState({clicked:!1,alert:!0,discription:l.verified,resendPassword:a.state.password}):(a.setState({clicked:!1,error:l.error}),console.log(l.error)),o.next=19;break;case 15:o.prev=15,o.t0=o.catch(4),a.setState({clicked:!1,error:"error"}),console.log(o.t0);case 19:case"end":return o.stop()}}),null,null,[[4,15]])},a.resend=function(){var e;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.awrap(fetch("/auth/resendVerification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email,password:a.state.resendPassword})}));case 2:return e=t.sent,t.next=5,w.a.awrap(e.json());case 5:if(!(e=t.sent).msg){t.next=10;break}return t.abrupt("return","sent");case 10:return t.abrupt("return",e.error);case 11:case"end":return t.stop()}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("center",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(q,{resendEmail:this.resend,resend:!0,handleClose:function(){return e.setState({alert:!1})},history:this.props.history,discription:this.state.discription,open:this.state.alert}),r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement(O.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"U Coin"),r.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p"},"U Coin is the simplest implementation of blockchain technology"))),r.a.createElement(j.a,null,r.a.createElement(g.a,{style:{justifyContent:"center",display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("form",{onSubmit:this.handleLogin,style:{display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"center"},required:!0,autoComplete:"off"},r.a.createElement(T.a,{required:!0,onChange:function(t){return e.setState({email:t.target.value})},type:"email",id:"standard-basic",label:"Email"}),r.a.createElement(T.a,{required:!0,onChange:function(t){return e.setState({password:t.target.value})},type:"password",id:"standard-basic",label:"Password"}),r.a.createElement(g.a,{style:{color:"red",marginTop:10}},this.state.error),this.renderButton()))),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Dont Have an Account?"),r.a.createElement(E.a,{style:{marginTop:10},onClick:function(){return e.props.history.push("/register")},size:"small",color:"primary"},"Sign Up")))),r.a.createElement(E.a,{onClick:function(){return e.props.history.push("/forgotPassword")},style:{marginTop:20},color:"primary",variant:"contained"},"Forgot Password?"))}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={clicked:!1,name:null,password:null,email:null,msg:null,alert:!1},a.onRegister=function(e){var t,n,r,l,o,c;return w.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),t="/auth/registerUser",n=a.state,r=n.name,l=n.email,o=n.password,!(r&&l&&o)){i.next=23;break}if(a.setState({clicked:!0}),!(o.length<6)){i.next=8;break}return a.setState({clicked:!1}),i.abrupt("return",a.setState({msg:"Password length must be greater than 6"}));case 8:return i.prev=8,i.next=11,w.a.awrap(fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:o,name:r})}));case 11:return c=i.sent,console.log(c),i.next=15,w.a.awrap(c.json());case 15:null!=(c=i.sent).registration?a.setState({clicked:!1,alert:!0,discription:c.registration}):(console.log(c.error),a.setState({clicked:!1,msg:c.error})),console.log(c),i.next=23;break;case 20:i.prev=20,i.t0=i.catch(8),console.log("error");case 23:case"end":return i.stop()}}),null,null,[[8,20]])},a.renderButton=function(){return a.state.clicked?r.a.createElement("center",null,r.a.createElement(R.a,null)):r.a.createElement(E.a,{type:"sumbit",onSubmit:a.onRegister,size:"small",color:"primary"},"Register")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("center",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement(O.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"U Coin"),r.a.createElement(g.a,{variant:"body1",color:"textSecondary",component:"p"},"Registration"))),r.a.createElement(j.a,null,r.a.createElement(g.a,{style:{justifyContent:"center",display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("form",{onSubmit:this.onRegister,style:{display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"center"},required:!0,autoComplete:"off"},r.a.createElement(T.a,{onChange:function(t){return e.setState({name:t.target.value})},type:"text",id:"standard-basic",autoComplete:"off",required:!0,label:"Name"}),r.a.createElement(T.a,{onChange:function(t){return e.setState({email:t.target.value})},required:!0,type:"email",id:"standard-basic",autoComplete:"off",label:"Email"}),r.a.createElement(T.a,{onChange:function(t){return e.setState({password:t.target.value})},required:!0,type:"password",id:"standard-basic",autoComplete:"off",label:"Password"}),r.a.createElement(this.renderButton,null),r.a.createElement(q,{title:"Registered Successfully",discription:this.state.discription,open:this.state.alert,history:this.props.history})),r.a.createElement("center",null,r.a.createElement("div",{style:{width:200,display:"flex",justifyContent:"center"}},r.a.createElement("span",{style:{color:"red",marginTop:5}},this.state.msg))))),r.a.createElement(j.a,{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"Already Have an Account?"),r.a.createElement(E.a,{onClick:function(){return e.props.history.replace("/login")},style:{marginTop:10},size:"small",color:"primary"},"Login")))))}}]),t}(r.a.Component),W=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={email:null,clicked:!1,alert:!1},a.renderButton=function(){return a.state.clicked?r.a.createElement("center",null,r.a.createElement(R.a,null)):r.a.createElement(E.a,{type:"sumbit",onSubmit:a.handleForgot,size:"small",color:"primary"},"Submit")},a.handleForgot=function(e){var t,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),a.setState({clicked:!0}),"/auth/forgetPassword",t=a.state.email,r.prev=4,r.next=7,w.a.awrap(fetch("/auth/forgetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}));case 7:return n=r.sent,r.next=10,w.a.awrap(n.json());case 10:n=r.sent,console.log(n),a.setState({clicked:!1,alert:!0}),r.next=19;break;case 15:r.prev=15,r.t0=r.catch(4),a.setState({clicked:!1}),console.log(r.t0);case 19:case"end":return r.stop()}}),null,null,[[4,15]])},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("center",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(q,{title:"Email sent!",handleClose:function(){return e.setState({alert:!1})},history:this.props.history,discription:"If this email is in our records then you will recieve a link to reset your password via email",open:this.state.alert}),r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement(O.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Forgot Password"),r.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p"},"Enter the Email associated with your account to get password reset link"))),r.a.createElement(j.a,null,r.a.createElement(g.a,{style:{justifyContent:"center",display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("form",{onSubmit:this.handleForgot,style:{display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"center"},required:!0,autoComplete:"off"},r.a.createElement(T.a,{required:!0,onChange:function(t){return e.setState({email:t.target.value})},type:"email",id:"standard-basic",label:"Email"}),r.a.createElement(g.a,{style:{color:"red",marginTop:10}}),this.renderButton()))))))}}]),t}(r.a.Component),J=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){var e=a.props.history.location.search,t=String(e.split("?token=")[1]);fetch("/auth/verifyToken?token=".concat(t)).then((function(e){return e.json()})).then((function(e){return e.msg?a.setState({token:t}):a.props.history.replace("/login")}))},a.state={email:null,clicked:!1,alert:!1},a.renderButton=function(){return a.state.clicked?r.a.createElement("center",null,r.a.createElement(R.a,null)):r.a.createElement(E.a,{type:"sumbit",onSubmit:a.handleForgot,size:"small",color:"primary"},"Submit")},a.handleReset=function(e){var t,n,r,l;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),a.state.password!=a.state.password2){o.next=22;break}return a.setState({error:null}),a.setState({clicked:!0}),"/auth/resetPassword",t=a.state,n=t.password,r=t.token,o.prev=6,o.next=9,w.a.awrap(fetch("/auth/resetPassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:n,token:r})}));case 9:return l=o.sent,o.next=12,w.a.awrap(l.json());case 12:l=o.sent,console.log(l),l.msg?a.setState({clicked:!1,alert:!0}):a.setState({clicked:!1,error:l.error}),o.next=20;break;case 17:o.prev=17,o.t0=o.catch(6),a.setState({clicked:!1,error:l.error});case 20:o.next=23;break;case 22:a.setState({error:"Passwords not match"});case 23:case"end":return o.stop()}}),null,null,[[6,17]])},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.token?r.a.createElement("center",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:10}},r.a.createElement(q,{title:"Password Changed!",handleClose:function(){return e.setState({alert:!1})},history:this.props.history,discription:"You can login Now",open:this.state.alert}),r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement(O.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Forgot Password"),r.a.createElement(g.a,{variant:"body2",color:"textSecondary",component:"p"},"Type New Password"))),r.a.createElement(j.a,null,r.a.createElement(g.a,{style:{justifyContent:"center",display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("form",{onSubmit:this.handleReset,style:{display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"center"},required:!0,autoComplete:"off"},r.a.createElement(T.a,{required:!0,onChange:function(t){return e.setState({password:t.target.value,error:null})},type:"password",id:"standard-basic",label:"New Password"}),r.a.createElement(T.a,{required:!0,onChange:function(t){return e.setState({password2:t.target.value,error:null})},type:"password",id:"standard-basic",label:"Confirm Password"}),r.a.createElement(g.a,{style:{color:"red",marginTop:10}},this.state.error),this.renderButton())))))):r.a.createElement("div",null,"Redirecting...")}}]),t}(r.a.Component),z=a(91),U=a.n(z),G=a(92),M=a.n(G),Q=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={verification:null},a.componentDidMount=function(){var e,t;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props.location,n.prev=1,n.next=4,w.a.awrap(fetch("".concat(e.pathname).concat(e.search)));case 4:return t=n.sent,n.next=7,w.a.awrap(t.json());case 7:t=n.sent,console.log(t),t.verification?a.setState({verification:!0}):a.setState({verification:!1}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),a.setState({verification:"failed"});case 15:case"end":return n.stop()}}),null,null,[[1,12]])},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return 1==this.state.verification?r.a.createElement("div",{style:{display:"flex",marginTop:200,flex:1,flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"}},r.a.createElement(U.a,{style:{color:"green",fontSize:40}}),r.a.createElement("h4",{style:{marginBottom:20,marginTop:20}},"Verified Successfully!"),r.a.createElement(E.a,{onClick:function(){return e.props.history.replace("/login")},variant:"contained",color:"primary"},"Log In!")):0==this.state.verification?r.a.createElement("div",{style:{display:"flex",marginTop:200,flex:1,flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"}},r.a.createElement(M.a,{style:{color:"red",fontSize:40}}),r.a.createElement("h4",{style:{marginTop:20}},"verification Failed.."),r.a.createElement(E.a,{style:{marginTop:20},onClick:function(){return e.props.history.replace("/login")},variant:"contained",color:"primary"},"Log In!")):r.a.createElement("div",{style:{display:"flex",marginTop:200,flex:1,flexDirection:"column",height:"100%",justifyContent:"center",alignItems:"center"}},r.a.createElement(R.a,null),r.a.createElement("h4",{style:{marginTop:20}},"Verifying...."))}}]),t}(r.a.Component),H=a(93),V=a(105),$=a(219),Y=a(210),_=a(94),X=a.n(_),Z=a(96),ee=a.n(Z),te=a(95),ae=a.n(te);window.outerWidth;var ne=Object(H.a)({root:{flexGrow:1}});Object(f.f)((function(e){var t=ne(),a=r.a.useState(0),n=Object(P.a)(a,2),l=n[0],o=n[1],c={0:"dashboard",2:"account",1:"wallet"};return r.a.createElement(V.a,{className:t.root,style:{backgroundColor:"black"}},r.a.createElement($.a,{value:l,onChange:function(t,a){o(a),e.history.replace("/".concat(c[a]))},indicatorColor:"Secondary",style:{color:"white"}},r.a.createElement(Y.a,{label:"Dashboard",icon:r.a.createElement(X.a,null)}),r.a.createElement(Y.a,{label:"Wallet",icon:r.a.createElement(ae.a,null)}),r.a.createElement(Y.a,{label:"Account",icon:r.a.createElement(ee.a,null)})))}));var re=new p.a,le=(r.a.Component,a(101)),oe=a.n(le),ce=a(215),ie=a(209),se=a(211),ue=a(214),de=a(213),me=a(212),pe=a(98),fe=a.n(pe),he=a(97),ye=a.n(he),ge=a(99),Ee=a.n(ge),ve=(new Date,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={data:null,refresh:!1},a.componentDidMount=function(){console.log(a.state.data),a.fetchTransactions()},a.fetchTransactions=function(){var e;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w.a.awrap(fetch("/getTransactions"));case 3:return e=t.sent,t.next=6,w.a.awrap(e.json());case 6:e=t.sent,e=JSON.parse(e),a.setState({data:e}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),null,null,[[0,11]])},a.decide=function(e){return"received"==e?r.a.createElement(ye.a,{style:{color:"green"}}):"sent"==e?r.a.createElement(fe.a,{style:{color:"red"}}):r.a.createElement(Ee.a,null)},a.RenderList=function(){var e=a.state.data;return e?0==e.length?r.a.createElement("center",null,r.a.createElement("h4",null,"No Transactions yet..")):e.map((function(e){return r.a.createElement("div",{className:"list"},r.a.createElement(ie.a,{style:{width:"100%"}},r.a.createElement(se.a,null,r.a.createElement(me.a,null,a.decide(e.type)),r.a.createElement(de.a,{primary:r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h4",null,e.data.name),r.a.createElement("h4",null,"$",e.data.amount)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{component:"span",variant:"body2",style:{display:"inline"},color:"textPrimary"},e.data.timestamp))})),r.a.createElement(ue.a,{variant:"inset",component:"li"})))})):r.a.createElement("div",null,"Loading...")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},r.a.createElement("center",null,r.a.createElement("h5",{style:{marginTop:10,borderRadius:20,backgroundColor:"lightgreen",width:150}},"Transactions:")),r.a.createElement(this.RenderList,null))}}]),t}(r.a.Component)),be=a(100),we=a.n(be),xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).renderQR=function(){return r.a.createElement("center",null,r.a.createElement("h6",{style:{backgroundColor:"lightgreen",borderRadius:10,maxWidth:"50%"}},"Ask sender to scan this code "),r.a.createElement("img",{src:localStorage.getItem("qrcode"),style:{width:150,height:150}}),r.a.createElement("br",null),r.a.createElement(E.a,{style:{marginTop:12},onClick:function(){return a.setState({showKey:"Show Address"==a.state.showKey?"Hide":"Show Address"})},variant:"contained",color:"primary"},a.state.showKey),a.renderPublicKey())},a.componentDidMount=function(){a.showBalance()},a.renderPublicKey=function(){if("Hide"==a.state.showKey)return r.a.createElement("div",null,r.a.createElement("div",{style:{flexDirection:"column",wordBreak:"break-all",display:"flex",marginLeft:10,marginRight:10}},r.a.createElement("h6",null,localStorage.getItem("publicKey")),r.a.createElement(we.a,{onClick:function(){window.navigator.clipboard.writeText(localStorage.getItem("publicKey")).then((function(e){a.setState({color:"green",isCopied:"Copied To ClipBoard"})}))},style:{color:a.state.color},fontSize:"18"}),a.state.isCopied))},a.refresh=function(){a.showBalance(),a.child.current.fetchTransactions()},a.showBalance=function(){var e,t;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({balance:"Loading.."}),e=localStorage.getItem("publicKey"),n.next=4,w.a.awrap(fetch("/getBalance",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({address:e})}));case 4:return t=n.sent,n.next=7,w.a.awrap(t.json());case 7:if(t=n.sent,console.log(t),"failed"!=t.auth){n.next=15;break}return console.log("failed"),n.next=13,w.a.awrap(fetch("/auth/logout"));case 13:n.sent,a.props.history.replace("/login");case 15:a.setState({balance:t.Balance});case 16:case"end":return n.stop()}}))},a.state={balance:"",showKey:"Show Address",renderQR:!1,receive:"Receive",color:null,refresh:!1},a.child=r.a.createRef(),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(ce.a,{container:!0},r.a.createElement(ce.a,{item:!0,sm:6,xs:12},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:{display:"flex",marginTop:20,justifyContent:"space-around",alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{onClick:function(){return e.props.history.push("/send")},style:{display:"flex",borderRadius:70,backgroundColor:"#007bff",width:70,height:70,alignItems:"center",justifyContent:"center"}},r.a.createElement(oe.a,{style:{fontSize:50,color:"white"}})),r.a.createElement("h4",{style:{marginTop:5}},"Send")),r.a.createElement("div",null,r.a.createElement("h4",null,"Balance",r.a.createElement("br",null),r.a.createElement("center",null,"$",this.state.balance)))),r.a.createElement("div",null,r.a.createElement("center",null,r.a.createElement(E.a,{onClick:this.refresh,variant:"contained",color:"primary"},"Refresh"))),r.a.createElement("div",{style:{marginTop:10}},this.renderQR()))),r.a.createElement(ce.a,{item:!0,sm:6,xs:12},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ve,{ref:this.child}))))}}]),t}(r.a.Component),Se=(r.a.Component,a(102)),Ce=a.n(Se),ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={result:"No result"},a.handleScan=function(e){e&&(a.setState({data:e}),a.setState({clicked:!1}))},a.handleGenerateTxn=function(e){var t;return w.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.state.tclicked){n.next=12;break}return e.preventDefault(),a.setState({finalTxn:null,tclicked:!0,error:null}),n.next=5,w.a.awrap(fetch("/generateTxn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:a.state.password,amount:a.state.amount,recipient:a.state.data,receiver:a.state.receiver,sendername:a.state.sendername})}));case 5:return t=n.sent,n.next=8,w.a.awrap(t.json());case 8:t=n.sent,console.log(t),"failed"==t.auth&&fetch("/auth/logout").then((function(e){return a.props.history.replace("/login")})).catch((function(e){return null})),t.error?a.setState({error:t.error,tclicked:!1}):a.setState({txn:t,verified:!0,error:"Transaction Generated!",tclicked:!1});case 12:case"end":return n.stop()}}))},a.Send=function(){var e;return w.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({error:null,sclicked:!0}),t.next=3,w.a.awrap(fetch("/register-broadcast-transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.state.txn)}));case 3:return e=t.sent,t.next=6,w.a.awrap(e.json());case 6:(e=t.sent).error?a.setState({finalTxn:e.error,txn:null,sclicked:!1}):a.setState({finalTxn:e.sent,txn:null,sclicked:!1});case 8:case"end":return t.stop()}}))},a.renderSendButton=function(){return a.state.finalTxn?r.a.createElement("center",null,r.a.createElement("h4",null,a.state.finalTxn)):a.state.verified?a.state.sclicked?r.a.createElement("center",null,r.a.createElement(R.a,null)):r.a.createElement("center",null,r.a.createElement(E.a,{onClick:a.Send,variant:"contained",color:"secondary"},"Send!")):void 0},a.renderButton=function(){return a.state.tclicked?r.a.createElement("center",null,r.a.createElement(R.a,null)):r.a.createElement(E.a,{type:"submit",onSubmit:a.handleGenerateTxn},"Generate Txn")},a.renderForm=function(){if(!a.state.data&&!a.state.clicked)return r.a.createElement("center",null,r.a.createElement("div",{style:{mrginTop:20}},r.a.createElement("h4",{style:{marginTop:40}},"Paste the receiver's address below or Scan the QR Code"),r.a.createElement("div",{style:{marginTop:30,display:"flex",flexDirection:"column",width:"50%",height:150}},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.setState({data:a.state.recipient})}},r.a.createElement(T.a,{onChange:function(e){return a.setState({recipient:e.target.value})},type:"text",placeholder:"Receiver's address"}),r.a.createElement("br",null),r.a.createElement(E.a,{type:"submit",onSubmit:function(e){e.preventDefault(),a.setState({data:a.state.recipient})},style:{marginTop:20,width:100},variant:"contained",color:"primary"},"Submit")))))},a.renderError=function(){return r.a.createElement("center",null,r.a.createElement("h4",{style:{marginTop:10}},a.state.error))},a.renderReader=function(){if(a.state.clicked)return r.a.createElement("div",{style:{display:"flex",height:200,justifyContent:"center",marginTop:30}},r.a.createElement(Ce.a,{delay:300,onError:a.handleError,onScan:a.handleScan,style:{width:300}}))},a.renderSubmit=function(){if(a.state.data)return r.a.createElement("div",{style:{marginTop:20,display:"flex",justifyContent:"center",marginRight:20,marginLeft:20}},r.a.createElement("center",null,r.a.createElement(C.a,null,r.a.createElement(k.a,null,r.a.createElement(O.a,null,r.a.createElement(g.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Generate Transaction"),r.a.createElement(g.a,{style:{wordBreak:"break-word"},variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("h5",null,"Reciever"),": ",a.state.data))),r.a.createElement(j.a,null,r.a.createElement(g.a,{style:{justifyContent:"center",display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement("form",{onSubmit:a.handleGenerateTxn,style:{display:"flex",flexDirection:"column",marginLeft:20,marginRight:20,justifyContent:"center"},required:!0,autoComplete:"off"},r.a.createElement(T.a,{required:!0,onChange:function(e){return a.setState({sendername:e.target.value})},type:"text",id:"standard-basic",label:"Your name"}),r.a.createElement(T.a,{required:!0,onChange:function(e){return a.setState({amount:e.target.value})},type:"number",id:"standard-basic",label:"Amount"}),r.a.createElement(T.a,{required:!0,onChange:function(e){return a.setState({receiver:e.target.value})},type:"text",id:"standard-basic",label:"Receiver's name"}),r.a.createElement(T.a,{required:!0,onChange:function(e){return a.setState({password:e.target.value})},type:"password",id:"standard-basic",label:"Password"}),r.a.createElement(g.a,{style:{color:"red",marginTop:10}}),a.renderButton()))))))},a.renderScan=function(){if(!a.state.data)return r.a.createElement("center",null,r.a.createElement("div",{style:{position:"fixed",bottom:0,marginBottom:100,right:0,left:0}},r.a.createElement(E.a,{style:{marginTop:20},onClick:function(){return a.setState({clicked:!a.state.clicked})},variant:"contained",color:"secondary"},"Scan QR")))},a.handleError=function(e){console.error(e)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.renderForm(),this.renderScan(),this.renderSubmit(),this.renderError(),this.renderSendButton(),this.renderReader())}}]),t}(n.Component),je=a(216),Oe=a(104),Te=a(217);var Re=function(){var e=Object(Oe.a)({palette:{type:"dark"}});return r.a.createElement(je.a,{theme:e},r.a.createElement(f.a,{exact:!0,path:"/send",component:ke}),r.a.createElement(f.a,{exact:!0,path:"/",component:xe}),r.a.createElement(Te.a,null))},Pe=new p.a,De=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={verification:!1},a.componentDidMount=function(){if(!Pe.get("exp_session")&&"/resetPassword"!=a.props.location.pathname&&"/auth/verify"!=a.props.location.pathname)return a.props.history.replace("/login");Pe.get("exp_session")&&fetch("/auth/checkAuth").then((function(e){return e.json()})).then((function(e){return"failed"==e.auth?a.props.history.replace("/login"):a.props.history.replace("/")})).catch((function(e){return console.log(e)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/auth/verify",component:Q}),r.a.createElement(f.a,{exact:!0,path:"/resetPassword",component:J}),r.a.createElement(f.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(I,Object.assign({},e,{handleAuth:function(e){}}))}}),r.a.createElement(f.a,{exact:!0,path:"/register",component:F}),r.a.createElement(f.a,{exact:!0,path:"/forgotPassword",component:W}),r.a.createElement(Re,null)))}}]),t}(r.a.Component),Be=Object(f.f)(De),Le=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(c.a,null,r.a.createElement(Be,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Le?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ae(t,e)}))}}()}},[[113,1,2]]]);
//# sourceMappingURL=main.5990b84d.chunk.js.map